{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hieu hoang\\\\Documents\\\\AP-master\\\\src\\\\Components\\\\Defaultlayout\\\\message\\\\contact\\\\index.js\",\n  _s = $RefreshSig$();\nimport classNames from 'classnames/bind';\nimport styles from \"./contact.module.scss\";\nimport ContactIteam from \"./item_mess\";\nimport { useState, useEffect } from 'react';\nimport { UseStore } from \"../../../../Store\";\nimport { get, set, child, ref, database, onValue } from \"../../../../pages/Login\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cx = classNames.bind(styles);\nfunction Contact({\n  name,\n  index,\n  email,\n  onclickprev\n}) {\n  _s();\n  let [contact, setContact] = useState([]);\n  let [prevstate, setprevstate] = useState(0);\n  let [load, setload] = useState(true);\n  const dbRef = ref(database);\n  const standardizeEmail = sessionStorage.getItem('standardizeEmail');\n  let [state] = UseStore();\n  let {\n    todos\n  } = state;\n  let [myName] = useState(todos.name);\n  let handleSend = () => {\n    let element = document.querySelector(`.${cx('footer-input')}`);\n    let nd = element.value;\n    element.value = '';\n    element.focus();\n    if (nd.trim().length > 0) {\n      const currentDate = new Date();\n      const year = currentDate.getFullYear();\n      const month = currentDate.getMonth() + 1;\n      const day = currentDate.getDate();\n      const hours = currentDate.getHours();\n      const minutes = currentDate.getMinutes();\n      // eslint-disable-next-line\n      let h = hours;\n      let m = minutes;\n      if (hours < 10) {\n        h = '0' + hours;\n      }\n      if (minutes < 10) {\n        m = '0' + minutes;\n      }\n      let mess = {\n        info: 'Bạn',\n        content: nd,\n        day: day + '/' + month + '/' + year,\n        time: h + ':' + m,\n        from: myName,\n        to: email\n      };\n      setContact([...contact, mess]);\n      // set to me\n      set(child(dbRef, `accounts/${standardizeEmail}/message/contact/${index}/${contact.length}`), mess);\n      set(child(dbRef, `accounts/${standardizeEmail}/message/messageList/${index}/content`), 'Bạn: ' + nd);\n      set(child(dbRef, `accounts/${standardizeEmail}/message/messageList/${index}/time`), mess.day);\n      // set to receiver\n      if (email !== '') {\n        get(child(dbRef, `accounts/${email}/message/messageList`)).then(snapshot => {\n          if (snapshot.exists()) {\n            for (let i = 0; i < snapshot.size; i++) {\n              if (snapshot.child(`${i}/email`).val() === standardizeEmail) {\n                let messCp = mess;\n                messCp.info = mess.from;\n                set(child(dbRef, `accounts/${email}/message/contact/${i}/${contact.length}`), messCp);\n                set(child(dbRef, `accounts/${email}/message/messageList/${i}/name`), messCp.from);\n                set(child(dbRef, `accounts/${email}/message/messageList/${i}/content`), messCp.from + ': ' + nd);\n                set(child(dbRef, `accounts/${email}/message/messageList/${i}/time`), messCp.day);\n                set(child(dbRef, `accounts/${email}/message/messageList/${i}/email`), standardizeEmail);\n              }\n            }\n          }\n        });\n      }\n      setTimeout(() => {\n        let body = document.querySelector(`.${cx('body')}`);\n        body.scrollTop = body.scrollHeight;\n      }, 500);\n    }\n    // eslint-disable-next-line\n  };\n  useEffect(() => {\n    onValue(child(dbRef, `accounts/${standardizeEmail}/message/contact/${index}`), snapshot => {\n      if (snapshot.exists()) {\n        let arr = [];\n        for (let i = 0; i < snapshot.size; i++) {\n          arr.push({\n            info: snapshot.val()[i].info,\n            content: snapshot.val()[i].content,\n            day: snapshot.val()[i].day,\n            time: snapshot.val()[i].time,\n            from: snapshot.val()[i].from,\n            to: snapshot.val()[i].to\n          });\n        }\n        setContact(arr);\n        setload(false);\n        setTimeout(() => {\n          let body = document.querySelector(`.${cx('body')}`);\n          if (body) {\n            body.scrollTop = body.scrollHeight;\n          }\n        }, 500);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    if (prevstate !== contact.length) {\n      let body = document.querySelector(`.${cx('wrapper')}`);\n      if (body) {\n        if (body.scrollTop == 0) {\n          body.scrollTop = body.scrollHeight;\n        } else if (body.scrollTop > body.scrollHeight - 1200) {\n          body.scrollTop = body.scrollHeight;\n        }\n      }\n      setprevstate(contact.length);\n    }\n    // eslint-disable-next-line\n  }, [contact]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: cx('wrapper'),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: cx('header'),\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: cx('icon__prev', 'fa-solid', 'fa-chevron-left'),\n        onClick: onclickprev\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cx('contact'),\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://w7.pngwing.com/pngs/178/595/png-transparent-user-profile-computer-icons-login-user-avatars-thumbnail.png\",\n          alt: \"avatar\",\n          className: cx('avatar')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: cx('name'),\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: cx('body'),\n      children: [!load && contact.map((item, index) => {\n        return /*#__PURE__*/_jsxDEV(ContactIteam, {\n          name: item.info,\n          content: item.content,\n          day: item.day,\n          time: item.time\n        }, `${item.info.name}-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 29\n        }, this);\n      }), load && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [' ', /*#__PURE__*/_jsxDEV(\"div\", {\n          className: cx('loadding-icon'),\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: cx('iconload', 'fa-solid', 'fa-spinner')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: cx('footer'),\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        type: \"text\",\n        id: \"text_field\",\n        className: cx('footer-input'),\n        placeholder: \"Nh\\u1EADp n\\u1ED9i dung\",\n        onKeyUp: e => {\n          if (e.which === 13) {\n            handleSend();\n          }\n        },\n        spellCheck: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: cx('footer-icon'),\n        onClick: handleSend,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: cx('send', 'fa-solid', 'fa-paper-plane')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 9\n  }, this);\n}\n_s(Contact, \"XpJEU0Pi/faxfV5vbJXNRsW2j5A=\");\n_c = Contact;\nexport default Contact;\nvar _c;\n$RefreshReg$(_c, \"Contact\");","map":{"version":3,"names":["classNames","styles","ContactIteam","useState","useEffect","UseStore","get","set","child","ref","database","onValue","jsxDEV","_jsxDEV","cx","bind","Contact","name","index","email","onclickprev","_s","contact","setContact","prevstate","setprevstate","load","setload","dbRef","standardizeEmail","sessionStorage","getItem","state","todos","myName","handleSend","element","document","querySelector","nd","value","focus","trim","length","currentDate","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","h","m","mess","info","content","time","from","to","then","snapshot","exists","i","size","val","messCp","setTimeout","body","scrollTop","scrollHeight","arr","push","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","map","item","type","id","placeholder","onKeyUp","e","which","spellCheck","_c","$RefreshReg$"],"sources":["C:/Users/hieu hoang/Documents/AP-master/src/Components/Defaultlayout/message/contact/index.js"],"sourcesContent":["import classNames from 'classnames/bind';\nimport styles from './contact.module.scss';\nimport ContactIteam from './item_mess';\nimport { useState, useEffect } from 'react';\nimport { UseStore } from '~/Store';\nimport { get, set, child, ref, database, onValue } from '~/pages/Login';\n\nconst cx = classNames.bind(styles);\n\nfunction Contact({ name, index, email, onclickprev }) {\n    let [contact, setContact] = useState([]);\n    let [prevstate, setprevstate] = useState(0);\n    let [load, setload] = useState(true);\n\n    const dbRef = ref(database);\n    const standardizeEmail = sessionStorage.getItem('standardizeEmail');\n    let [state] = UseStore();\n    let { todos } = state;\n    let [myName] = useState(todos.name);\n\n    let handleSend = () => {\n        let element = document.querySelector(`.${cx('footer-input')}`);\n\n        let nd = element.value;\n        element.value = '';\n        element.focus();\n\n        if (nd.trim().length > 0) {\n            const currentDate = new Date();\n            const year = currentDate.getFullYear();\n            const month = currentDate.getMonth() + 1;\n            const day = currentDate.getDate();\n            const hours = currentDate.getHours();\n            const minutes = currentDate.getMinutes();\n            // eslint-disable-next-line\n            let h = hours;\n            let m = minutes;\n            if (hours < 10) {\n                h = '0' + hours;\n            }\n            if (minutes < 10) {\n                m = '0' + minutes;\n            }\n\n            let mess = {\n                info: 'Bạn',\n                content: nd,\n                day: day + '/' + month + '/' + year,\n                time: h + ':' + m,\n                from: myName,\n                to: email,\n            };\n            setContact([...contact, mess]);\n            // set to me\n            set(child(dbRef, `accounts/${standardizeEmail}/message/contact/${index}/${contact.length}`), mess);\n            set(child(dbRef, `accounts/${standardizeEmail}/message/messageList/${index}/content`), 'Bạn: ' + nd);\n            set(child(dbRef, `accounts/${standardizeEmail}/message/messageList/${index}/time`), mess.day);\n            // set to receiver\n            if (email !== '') {\n                get(child(dbRef, `accounts/${email}/message/messageList`)).then((snapshot) => {\n                    if (snapshot.exists()) {\n                        for (let i = 0; i < snapshot.size; i++) {\n                            if (snapshot.child(`${i}/email`).val() === standardizeEmail) {\n                                let messCp = mess;\n                                messCp.info = mess.from;\n                                set(child(dbRef, `accounts/${email}/message/contact/${i}/${contact.length}`), messCp);\n                                set(child(dbRef, `accounts/${email}/message/messageList/${i}/name`), messCp.from);\n                                set(\n                                    child(dbRef, `accounts/${email}/message/messageList/${i}/content`),\n                                    messCp.from + ': ' + nd,\n                                );\n                                set(child(dbRef, `accounts/${email}/message/messageList/${i}/time`), messCp.day);\n                                set(child(dbRef, `accounts/${email}/message/messageList/${i}/email`), standardizeEmail);\n                            }\n                        }\n                    }\n                });\n            }\n\n            setTimeout(() => {\n                let body = document.querySelector(`.${cx('body')}`);\n                body.scrollTop = body.scrollHeight;\n            }, 500);\n        }\n        // eslint-disable-next-line\n    };\n    useEffect(() => {\n        onValue(child(dbRef, `accounts/${standardizeEmail}/message/contact/${index}`), (snapshot) => {\n            if (snapshot.exists()) {\n                let arr = [];\n                for (let i = 0; i < snapshot.size; i++) {\n                    arr.push({\n                        info: snapshot.val()[i].info,\n                        content: snapshot.val()[i].content,\n                        day: snapshot.val()[i].day,\n                        time: snapshot.val()[i].time,\n                        from: snapshot.val()[i].from,\n                        to: snapshot.val()[i].to,\n                    });\n                }\n                setContact(arr);\n                setload(false);\n                setTimeout(() => {\n                    let body = document.querySelector(`.${cx('body')}`);\n                    if (body) {\n                        body.scrollTop = body.scrollHeight;\n                    }\n                }, 500);\n            }\n        });\n        // eslint-disable-next-line\n    }, []);\n    useEffect(() => {\n        if (prevstate !== contact.length) {\n            let body = document.querySelector(`.${cx('wrapper')}`);\n\n            if (body) {\n                if (body.scrollTop == 0) {\n                    body.scrollTop = body.scrollHeight;\n                } else if (body.scrollTop > body.scrollHeight - 1200) {\n                    body.scrollTop = body.scrollHeight;\n                }\n            }\n\n            setprevstate(contact.length);\n        }\n        // eslint-disable-next-line\n    }, [contact]);\n\n    return (\n        <div className={cx('wrapper')}>\n            <div className={cx('header')}>\n                <i className={cx('icon__prev', 'fa-solid', 'fa-chevron-left')} onClick={onclickprev}></i>\n                <div className={cx('contact')}>\n                    <img\n                        src=\"https://w7.pngwing.com/pngs/178/595/png-transparent-user-profile-computer-icons-login-user-avatars-thumbnail.png\"\n                        alt=\"avatar\"\n                        className={cx('avatar')}\n                    />\n                    <div className={cx('name')}>{name}</div>\n                </div>\n            </div>\n            <div className={cx('body')}>\n                {!load &&\n                    contact.map((item, index) => {\n                        return (\n                            <ContactIteam\n                                key={`${item.info.name}-${index}`}\n                                name={item.info}\n                                content={item.content}\n                                day={item.day}\n                                time={item.time}\n                            />\n                        );\n                    })}\n                {load && (\n                    <div>\n                        {' '}\n                        <div className={cx('loadding-icon')}>\n                            <i className={cx('iconload', 'fa-solid', 'fa-spinner')}></i>\n                        </div>\n                    </div>\n                )}\n            </div>\n            <div className={cx('footer')}>\n                <textarea\n                    type=\"text\"\n                    id=\"text_field\"\n                    className={cx('footer-input')}\n                    placeholder=\"Nhập nội dung\"\n                    onKeyUp={(e) => {\n                        if (e.which === 13) {\n                            handleSend();\n                        }\n                    }}\n                    spellCheck={false}\n                ></textarea>\n\n                <button className={cx('footer-icon')} onClick={handleSend}>\n                    <i className={cx('send', 'fa-solid', 'fa-paper-plane')}></i>\n                </button>\n            </div>\n        </div>\n    );\n}\n\nexport default Contact;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}